<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1E3A5F">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ZollCheck">
    
    <title>ZollCheck - Lerne alles Ã¼ber ZÃ¶lle</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="icon" type="image/png" href="icons/icon-192.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <span class="logo">ğŸŒ ZollCheck</span>
            </div>
            <div class="header-right">
                <span class="streak-badge" id="streak-display">ğŸ”¥ 0</span>
                <span class="xp-badge" id="xp-display">0 XP</span>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="main" id="main-content">
            <!-- Home Screen = Lern-Hub -->
            <div class="screen active" id="screen-home">
                <!-- Progress Overview -->
                <div class="progress-card">
                    <div class="progress-header">
                        <span class="progress-title">Dein Lernfortschritt</span>
                        <span class="progress-level" id="user-level">Level 1</span>
                    </div>
                    <div class="progress-bar-large">
                        <div class="progress-fill-large" id="total-progress" style="width: 0%"></div>
                    </div>
                    <div class="progress-stats">
                        <span><span id="lessons-done">0</span>/16 Lektionen</span>
                        <span id="xp-total">0 XP</span>
                    </div>
                </div>

                <!-- Lernpfad -->
                <div class="learn-section">
                    <h2 class="section-title">ğŸ“š Lernpfad</h2>
                    
                    <!-- Modul 1 -->
                    <div class="module-card" data-module="1">
                        <div class="module-header">
                            <div class="module-icon">ğŸ“–</div>
                            <div class="module-info">
                                <h3>Modul 1: Grundlagen</h3>
                                <p>Was sind ZÃ¶lle und warum gibt es sie?</p>
                            </div>
                            <div class="module-progress">
                                <span class="module-progress-text" id="mod1-progress">0/4</span>
                            </div>
                        </div>
                        <div class="module-lessons">
                            <button class="lesson-btn" onclick="startLesson(1, 1)">
                                <span class="lesson-icon">ğŸ“</span>
                                <span class="lesson-title">Was sind ZÃ¶lle?</span>
                                <span class="lesson-status" id="lesson-1-1-status">â—</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(1, 2)">
                                <span class="lesson-icon">ğŸ“œ</span>
                                <span class="lesson-title">Geschichte der ZÃ¶lle</span>
                                <span class="lesson-status" id="lesson-1-2-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(1, 3)">
                                <span class="lesson-icon">ğŸ“Š</span>
                                <span class="lesson-title">Arten von ZÃ¶llen</span>
                                <span class="lesson-status" id="lesson-1-3-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(1, 4)">
                                <span class="lesson-icon">ğŸ›ï¸</span>
                                <span class="lesson-title">Wer erhebt ZÃ¶lle?</span>
                                <span class="lesson-status" id="lesson-1-4-status">â—‹</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Modul 2 -->
                    <div class="module-card" data-module="2">
                        <div class="module-header">
                            <div class="module-icon">ğŸ‡©ğŸ‡ª</div>
                            <div class="module-info">
                                <h3>Modul 2: Deutschland & Handel</h3>
                                <p>Deutschlands Rolle im Welthandel</p>
                            </div>
                            <div class="module-progress">
                                <span class="module-progress-text" id="mod2-progress">0/4</span>
                            </div>
                        </div>
                        <div class="module-lessons">
                            <button class="lesson-btn" onclick="startLesson(2, 1)">
                                <span class="lesson-icon">ğŸ†</span>
                                <span class="lesson-title">Exportweltmeister?</span>
                                <span class="lesson-status" id="lesson-2-1-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(2, 2)">
                                <span class="lesson-icon">ğŸ¤</span>
                                <span class="lesson-title">Handelspartner</span>
                                <span class="lesson-status" id="lesson-2-2-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(2, 3)">
                                <span class="lesson-icon">ğŸš—</span>
                                <span class="lesson-title">Made in Germany</span>
                                <span class="lesson-status" id="lesson-2-3-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(2, 4)">
                                <span class="lesson-icon">âš–ï¸</span>
                                <span class="lesson-title">Handelsbilanz</span>
                                <span class="lesson-status" id="lesson-2-4-status">â—‹</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Modul 3 -->
                    <div class="module-card" data-module="3">
                        <div class="module-header">
                            <div class="module-icon">âš¡</div>
                            <div class="module-info">
                                <h3>Modul 3: Aktuelle Konflikte</h3>
                                <p>Trump-ZÃ¶lle, China & Brexit</p>
                            </div>
                            <div class="module-progress">
                                <span class="module-progress-text" id="mod3-progress">0/4</span>
                            </div>
                        </div>
                        <div class="module-lessons">
                            <button class="lesson-btn" onclick="startLesson(3, 1)">
                                <span class="lesson-icon">ğŸ‡ºğŸ‡¸</span>
                                <span class="lesson-title">Trump-ZÃ¶lle 2025/26</span>
                                <span class="lesson-status" id="lesson-3-1-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(3, 2)">
                                <span class="lesson-icon">ğŸ‡¨ğŸ‡³</span>
                                <span class="lesson-title">USA vs. China</span>
                                <span class="lesson-status" id="lesson-3-2-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(3, 3)">
                                <span class="lesson-icon">ğŸ‡¬ğŸ‡§</span>
                                <span class="lesson-title">Brexit-Folgen</span>
                                <span class="lesson-status" id="lesson-3-3-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(3, 4)">
                                <span class="lesson-icon">ğŸ‡ªğŸ‡º</span>
                                <span class="lesson-title">EU-Handelsabkommen</span>
                                <span class="lesson-status" id="lesson-3-4-status">â—‹</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Modul 4 -->
                    <div class="module-card" data-module="4">
                        <div class="module-header">
                            <div class="module-icon">ğŸ¯</div>
                            <div class="module-info">
                                <h3>Modul 4: Auswirkungen</h3>
                                <p>Was bedeuten ZÃ¶lle fÃ¼r dich?</p>
                            </div>
                            <div class="module-progress">
                                <span class="module-progress-text" id="mod4-progress">0/4</span>
                            </div>
                        </div>
                        <div class="module-lessons">
                            <button class="lesson-btn" onclick="startLesson(4, 1)">
                                <span class="lesson-icon">ğŸ’°</span>
                                <span class="lesson-title">Preise & Verbraucher</span>
                                <span class="lesson-status" id="lesson-4-1-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(4, 2)">
                                <span class="lesson-icon">ğŸ‘·</span>
                                <span class="lesson-title">Jobs & Wirtschaft</span>
                                <span class="lesson-status" id="lesson-4-2-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(4, 3)">
                                <span class="lesson-icon">ğŸŒ±</span>
                                <span class="lesson-title">Umwelt & Klima</span>
                                <span class="lesson-status" id="lesson-4-3-status">â—‹</span>
                            </button>
                            <button class="lesson-btn" onclick="startLesson(4, 4)">
                                <span class="lesson-icon">ğŸ”®</span>
                                <span class="lesson-title">Zukunft des Handels</span>
                                <span class="lesson-status" id="lesson-4-4-status">â—‹</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Ãœben Section -->
                <div class="practice-section">
                    <h2 class="section-title">ğŸ¯ Ãœben & Erkunden</h2>
                    <div class="practice-grid">
                        <button class="practice-card" onclick="showScreen('screen-quiz')">
                            <span class="practice-icon">ğŸ®</span>
                            <span class="practice-title">Quiz</span>
                        </button>
                        <button class="practice-card" onclick="showScreen('screen-karte')">
                            <span class="practice-icon">ğŸ—ºï¸</span>
                            <span class="practice-title">Karte</span>
                        </button>
                        <button class="practice-card" onclick="showScreen('screen-simulator')">
                            <span class="practice-icon">ğŸ›ï¸</span>
                            <span class="practice-title">Simulator</span>
                        </button>
                        <button class="practice-card" onclick="showScreen('screen-lexikon')">
                            <span class="practice-icon">ğŸ“–</span>
                            <span class="practice-title">Lexikon</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Lesson Screen -->
            <div class="screen" id="screen-lesson">
                <div class="lesson-header">
                    <button class="back-btn" onclick="exitLesson()">âœ•</button>
                    <div class="lesson-progress-bar">
                        <div class="lesson-progress-fill" id="lesson-progress-fill" style="width: 0%"></div>
                    </div>
                    <span class="lesson-xp">+10 XP</span>
                </div>
                
                <div class="lesson-content" id="lesson-content">
                    <!-- Lesson cards inserted by JS -->
                </div>
                
                <div class="lesson-nav">
                    <button class="lesson-nav-btn" id="lesson-prev" onclick="prevCard()">â†</button>
                    <span class="lesson-card-count" id="lesson-card-count">1/5</span>
                    <button class="lesson-nav-btn primary" id="lesson-next" onclick="nextCard()">Weiter â†’</button>
                </div>
            </div>
            
            <!-- Quiz Screen -->
            <div class="screen" id="screen-quiz">
                <div class="screen-header">
                    <button class="back-btn" onclick="showScreen('screen-home')">â†</button>
                    <h2>ğŸ® Zoll-Quiz</h2>
                </div>
                
                <div class="quiz-stats">
                    <div class="stat">
                        <span class="stat-value" id="quiz-correct">0</span>
                        <span class="stat-label">Richtig</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="quiz-streak">0</span>
                        <span class="stat-label">Serie ğŸ”¥</span>
                    </div>
                </div>
                
                <div class="quiz-card" id="quiz-card">
                    <p class="quiz-question" id="quiz-question">Lade Frage...</p>
                    <div class="quiz-answers" id="quiz-answers"></div>
                </div>
                
                <div class="quiz-feedback hidden" id="quiz-feedback">
                    <div class="feedback-icon" id="feedback-icon">âœ“</div>
                    <p class="feedback-text" id="feedback-text">Richtig!</p>
                    <p class="feedback-explanation" id="feedback-explanation"></p>
                    <button class="next-btn" onclick="nextQuestion()">NÃ¤chste Frage â†’</button>
                </div>
            </div>
            
            <!-- Simulator Screen -->
            <div class="screen" id="screen-simulator">
                <div class="screen-header">
                    <button class="back-btn" onclick="showScreen('screen-home')">â†</button>
                    <h2>ğŸ›ï¸ Zoll-Simulator</h2>
                </div>
                
                <div class="simulator-intro" id="sim-intro">
                    <h3>WÃ¤hle deinen Modus:</h3>
                    <div class="role-cards">
                        <button class="role-card highlight" onclick="startDynamicSimulator()">
                            <span class="role-icon">ğŸŒ</span>
                            <span class="role-title">Dynamische Weltwirtschaft</span>
                            <span class="role-desc">KI-generierte Szenarien, 12 Runden</span>
                            <span class="role-badge">â­ NEU</span>
                        </button>
                        <button class="role-card" onclick="startSimulator('minister')">
                            <span class="role-icon">ğŸ›ï¸</span>
                            <span class="role-title">Wirtschaftsminister</span>
                            <span class="role-desc">6 Szenarien</span>
                        </button>
                        <button class="role-card" onclick="startSimulator('unternehmer')">
                            <span class="role-icon">ğŸ­</span>
                            <span class="role-title">Unternehmer*in</span>
                            <span class="role-desc">5 Szenarien</span>
                        </button>
                        <button class="role-card" onclick="startSimulator('verbraucher')">
                            <span class="role-icon">ğŸ›’</span>
                            <span class="role-title">Verbraucher*in</span>
                            <span class="role-desc">6 Szenarien</span>
                        </button>
                    </div>
                </div>
                
                <div class="simulator-game hidden" id="sim-game"></div>
            </div>
            
            <!-- Lexikon Screen -->
            <div class="screen" id="screen-lexikon">
                <div class="screen-header">
                    <button class="back-btn" onclick="showScreen('screen-home')">â†</button>
                    <h2>ğŸ“– Zoll-Lexikon</h2>
                </div>
                
                <input type="search" class="search-input" placeholder="Begriff suchen..." id="lexikon-search" oninput="filterLexikon()">
                
                <div class="lexikon-list" id="lexikon-list"></div>
            </div>
            
            <!-- Karte Screen -->
            <div class="screen" id="screen-karte">
                <div class="screen-header">
                    <button class="back-btn" onclick="showScreen('screen-home')">â†</button>
                    <h2>ğŸ—ºï¸ Handelskarte</h2>
                </div>
                
                <div id="map-container"></div>
            </div>
        </main>
        
        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" onclick="showScreen('screen-home')" data-screen="screen-home">
                <span class="nav-icon">ğŸ“š</span>
                <span class="nav-label">Lernen</span>
            </button>
            <button class="nav-item" onclick="showScreen('screen-karte')" data-screen="screen-karte">
                <span class="nav-icon">ğŸ—ºï¸</span>
                <span class="nav-label">Karte</span>
            </button>
            <button class="nav-item" onclick="showScreen('screen-quiz')" data-screen="screen-quiz">
                <span class="nav-icon">ğŸ®</span>
                <span class="nav-label">Quiz</span>
            </button>
            <button class="nav-item" onclick="showScreen('screen-simulator')" data-screen="screen-simulator">
                <span class="nav-icon">ğŸ›ï¸</span>
                <span class="nav-label">Simulator</span>
            </button>
            <button class="nav-item" onclick="showScreen('screen-lexikon')" data-screen="screen-lexikon">
                <span class="nav-icon">ğŸ“–</span>
                <span class="nav-label">Lexikon</span>
            </button>
        </nav>
        
        <footer class="app-footer">
            <a href="https://github.com/Tonihj77-T/zollcheck/blob/main/TECHNICAL.md" target="_blank">ğŸ“š Technische Dokumentation</a>
        </footer>
    </div>
    
    <script src="data.js"></script>
    <script src="lessons.js"></script>
    <script src="simulator.js"></script>
    <script src="map.js"></script>
    <script src="app.js"></script>
</body>
</html>
